<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>Profile</title>
    <link rel="stylesheet" href="https://unpkg.com/mvp.css@1.12/mvp.css">
</head>

<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>

    document.addEventListener("DOMContentLoaded", function () {

        const id = [[${id}]];

        axios.get(`/api/v1/members/${id}`)
            .then(response => {
                const profileData = response.data;
                document.getElementById("userName").innerHTML = '사용자 : ' + profileData.username;
                document.getElementById("phoneNumber").innerHTML = '전화번호 : ' + profileData.phoneNumber;
                document.getElementById("email").innerHTML = '이메일 : ' + profileData.email;
                document.getElementById("temperature").innerHTML = '매너온도 : ' + profileData.temperature;

            })
            .catch(error => {
                alert("오류가 발생했습니다. \n" + error);
                console.error(error);
            });
    });
</script>

<body>
<div style="margin-left: auto; margin-right: auto; text-align: center;">
    <div>
        <h1>User Profile</h1>
    </div>
    <div>
        <h4 id="userName"></h4>
    </div>
    <div>
        <h4 id="phoneNumber"></h4>
    </div>
    <div>
        <h4 id="email"></h4>
    </div>
    <div>
        <h4 id="temperature"></h4>
    </div>
    <div>
        <a th:href="@{'/profile/edit/' + ${id}}">
            <button>수정하기</button>
        </a>
    </div>
</div>

</body>
</html>
